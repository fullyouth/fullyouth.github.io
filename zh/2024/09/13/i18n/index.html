<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>国际化最佳实践 | haoqi</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="国际化">
    
    <link rel="preload" href="/assets/css/0.styles.527ebebb.css" as="style"><link rel="preload" href="/assets/js/app.a891da9c.js" as="script"><link rel="preload" href="/assets/js/4.ca613f77.js" as="script"><link rel="preload" href="/assets/js/1.88c9cb29.js" as="script"><link rel="preload" href="/assets/js/37.8b7b7755.js" as="script"><link rel="prefetch" href="/assets/js/11.948bfbf8.js"><link rel="prefetch" href="/assets/js/12.606d7da7.js"><link rel="prefetch" href="/assets/js/13.24f57a3f.js"><link rel="prefetch" href="/assets/js/14.473b884d.js"><link rel="prefetch" href="/assets/js/15.9b42d14e.js"><link rel="prefetch" href="/assets/js/16.0877f871.js"><link rel="prefetch" href="/assets/js/17.3d34ce15.js"><link rel="prefetch" href="/assets/js/18.a9466d80.js"><link rel="prefetch" href="/assets/js/19.560ed21f.js"><link rel="prefetch" href="/assets/js/2.ebdfc9e5.js"><link rel="prefetch" href="/assets/js/20.cdedd2d5.js"><link rel="prefetch" href="/assets/js/21.77b385e8.js"><link rel="prefetch" href="/assets/js/22.de4c43e4.js"><link rel="prefetch" href="/assets/js/23.b32c6bde.js"><link rel="prefetch" href="/assets/js/24.7b5c60c5.js"><link rel="prefetch" href="/assets/js/25.957a261c.js"><link rel="prefetch" href="/assets/js/26.a7a181b8.js"><link rel="prefetch" href="/assets/js/27.1fda80d4.js"><link rel="prefetch" href="/assets/js/28.b248bfa8.js"><link rel="prefetch" href="/assets/js/29.23dc47e5.js"><link rel="prefetch" href="/assets/js/3.28814dad.js"><link rel="prefetch" href="/assets/js/30.b44c11a9.js"><link rel="prefetch" href="/assets/js/31.f1451265.js"><link rel="prefetch" href="/assets/js/32.2b7c3d88.js"><link rel="prefetch" href="/assets/js/33.db8a484a.js"><link rel="prefetch" href="/assets/js/34.423812d6.js"><link rel="prefetch" href="/assets/js/35.212a6ba6.js"><link rel="prefetch" href="/assets/js/36.a3301133.js"><link rel="prefetch" href="/assets/js/38.4b185ace.js"><link rel="prefetch" href="/assets/js/39.7ebf68fc.js"><link rel="prefetch" href="/assets/js/40.9b85e78f.js"><link rel="prefetch" href="/assets/js/41.eb6b9bf8.js"><link rel="prefetch" href="/assets/js/42.73d4051e.js"><link rel="prefetch" href="/assets/js/43.fd6f0dbd.js"><link rel="prefetch" href="/assets/js/44.d6b5dbaf.js"><link rel="prefetch" href="/assets/js/45.89e47fdb.js"><link rel="prefetch" href="/assets/js/46.6a7b6075.js"><link rel="prefetch" href="/assets/js/47.ecef5cb3.js"><link rel="prefetch" href="/assets/js/48.684f55cc.js"><link rel="prefetch" href="/assets/js/49.dc2f8d43.js"><link rel="prefetch" href="/assets/js/5.1c0e5281.js"><link rel="prefetch" href="/assets/js/50.20e265b5.js"><link rel="prefetch" href="/assets/js/51.5f6bf74c.js"><link rel="prefetch" href="/assets/js/6.0747b09a.js"><link rel="prefetch" href="/assets/js/7.c862f1b4.js"><link rel="prefetch" href="/assets/js/8.e482b566.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.33162b08.js">
    <link rel="stylesheet" href="/assets/css/0.styles.527ebebb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/" class="nav-link home-link">haoqi </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/zh/" class="nav-link router-link-active">博客</a></li><li class="nav-item"><a href="/tag/算法训练营/" class="nav-link">算法</a></li><li class="nav-item"><a href="https://github.com/fullyouth" target="_blank" rel="noopener noreferrer" class="nav-link external">Github</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/" class="nav-link mobile-home-link">haoqi </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/zh/" class="nav-link router-link-active">博客</a></li><li class="mobile-nav-item"><a href="/tag/算法训练营/" class="nav-link">算法</a></li><li class="mobile-nav-item"><a href="https://github.com/fullyouth" target="_blank" rel="noopener noreferrer" class="nav-link external">Github</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><header><h1 itemprop="name headline" class="post-title">
        国际化最佳实践
      </h1> <div class="post-meta"><!----> <div class="post-meta-date"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <time pubdate itemprop="datePublished" datetime="2024-9-13">
      2024-09-13 周5
    </time></div> <ul itemprop="keywords" class="post-meta-tags"><li class="post-tag" data-v-42ccfcd5><a href="/tag/国际化" data-v-42ccfcd5><span data-v-42ccfcd5>国际化</span></a></li></ul></div></header> <div itemprop="articleBody" class="content__default"><h1 id="前端国际化-为全球用户打造无缝体验"><a href="#前端国际化-为全球用户打造无缝体验" class="header-anchor">#</a> 前端国际化：为全球用户打造无缝体验</h1> <p>在当今全球化的数字时代，前端开发不再局限于单一地区或语言的用户。<strong>为了满足不同国家和地区用户的需求</strong>，前端国际化成为了至关重要的一环。本文将深入探讨前端国际化的重要性、实现方法以及最佳实践。</p> <h2 id="一、为什么前端国际化至关重要"><a href="#一、为什么前端国际化至关重要" class="header-anchor">#</a> 一、为什么前端国际化至关重要？</h2> <ol><li><strong>扩大用户群体</strong>，随着互联网的普及，产品的潜在用户可能来自世界各地。通过国际化，能够让更多的人访问和使用你的应用，从而扩大用户群体。</li> <li><strong>提升用户体验</strong>，为用户提供他们熟悉的语言和文化习惯，可以极大地提升用户体验。用户能够更轻松地理解和操作应用，减少学习成本和困惑。</li> <li><strong>增强品牌影响力</strong>，一个支持多种语言的应用展示了品牌的全球化视野和对不同用户的关注。这有助于增强品牌的影响力和声誉，提高品牌在全球市场的竞争力。</li></ol> <h2 id="二、背景知识"><a href="#二、背景知识" class="header-anchor">#</a> 二、背景知识</h2> <h3 id="一、国际化-internationalization-通常缩写为-i18n"><a href="#一、国际化-internationalization-通常缩写为-i18n" class="header-anchor">#</a> 一、国际化（Internationalization，通常缩写为 i18n）</h3> <p>国际化是指设计和开发软件使其能够<strong>适应不同的地区和语言环境</strong>，而无需进行大量的重新设计或重新编码。它的目标是使软件具有足够的灵活性，以便在不同的文化和语言背景下都能正常运行。  包括：日期，数字，文本方向，翻译等</p> <h3 id="二、本地化-localization-通常缩写为-l10n"><a href="#二、本地化-localization-通常缩写为-l10n" class="header-anchor">#</a> 二、本地化（Localization，通常缩写为 L10n）</h3> <p>本地化是在国际化的基础上，<strong>针对特定的地区或语言进行具体的调整和定制</strong>。它包括翻译软件中的文本内容、调整界面布局以适应不同的语言长度、使用当地习惯的图标和图像等。  包括：<strong>语言本地习惯，文化适应，法律法规，货币单位</strong>等</p> <h2 id="三、前端国际化的常见问题"><a href="#三、前端国际化的常见问题" class="header-anchor">#</a> 三、前端国际化的常见问题</h2> <ul><li>语言：这是基本的，也是工作量占比比较大的部分。</li> <li>排版：不同语言字体、书写方向、单位空间信息密度都不相同。</li> <li>文本编码：得益于 Unicode 的普及，这个问题越来越少遇见了，否则不同语言可能有各自独立的文本编码格式。</li> <li>日期与时间：时区、显示格式、历法、节假日。</li> <li>数字：分隔符、读法。</li> <li>货币：货币符号，汇率。</li> <li>电话或手机号码：不同国家地区格式不同。</li> <li>银行卡或信用卡：不同银行格式不同。</li> <li>邮编：不同国家地区格式不同，不过现在比较少使用了。</li> <li>度量单位：比如美国温度常用华氏温度，长度使用英寸、英里等，而非国际单位。</li> <li>法律：各个国家和地区可能对于数据安全性和隐私性法律法规不同，比如欧盟对隐私的 GDPR 要求、中国大陆对于软件服务数据存放的要求、域名备案要求等。</li> <li>文化：信仰、保守与开放、颜色、意识形态等等都可能不同。</li></ul> <h2 id="四、工具和库"><a href="#四、工具和库" class="header-anchor">#</a> 四、工具和库</h2> <table><thead><tr><th>框架</th> <th>说明</th></tr></thead> <tbody><tr><td>react-intl</td> <td>用于React</td></tr> <tr><td>vue-i18n</td> <td>用于Vue</td></tr> <tr><td>angular-i18n</td> <td>用于Angular</td></tr> <tr><td>i18next</td> <td>通用，无关框架</td></tr> <tr><td>react-intl-universal</td> <td>阿里的国际化，无关框架</td></tr> <tr><td>FormatJS</td> <td></td></tr></tbody></table> <h2 id="五、最佳实践"><a href="#五、最佳实践" class="header-anchor">#</a> 五、最佳实践</h2> <h3 id="_1-数量和名词应该合并在一个key中"><a href="#_1-数量和名词应该合并在一个key中" class="header-anchor">#</a> 1. 数量和名词应该合并在一个key中</h3> <p><code>1个人 %1$s个人</code><br> <code>%1$s people</code></p> <h3 id="_2-表述应当完整-不要随意截断"><a href="#_2-表述应当完整-不要随意截断" class="header-anchor">#</a> 2. 表述应当完整，不要随意截断</h3> <p><code>此活动时间是2022-2023年</code><br> <code>此活动时间是%1$s-%2$s年</code></p> <h3 id="_3-多个占位符需要有所去烦恼"><a href="#_3-多个占位符需要有所去烦恼" class="header-anchor">#</a> 3. 多个占位符需要有所去烦恼</h3> <p><code>此活动时间是2022-2023年</code><br> <code>此活动时间是%1$s-%2$s年</code></p> <h3 id="_4-创建合理的日期月份星期的key"><a href="#_4-创建合理的日期月份星期的key" class="header-anchor">#</a> 4. 创建合理的日期月份星期的key</h3> <p><code>此活动开始时间是星期三</code><br> <code>此活动开始时间是%1$s</code>
需要接入本地化</p> <h3 id="_5-本地化-姓名"><a href="#_5-本地化-姓名" class="header-anchor">#</a> 5. 本地化-姓名</h3> <p>获取对应locale的firstName和lastName的顺序，然后组合成fullName</p> <h3 id="_6-本地化-数字"><a href="#_6-本地化-数字" class="header-anchor">#</a> 6. 本地化-数字</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JSON</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">&quot;intlNumber&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Some {{val, number}}&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;intlNumberWithOptions&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Some {{val, number(minimumFractionDigits: 2)}}&quot;</span>
<span class="token punctuation">}</span>

i18next<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">'intlNumber'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">val</span><span class="token operator">:</span> <span class="token number">1000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// --&gt; Some 1,000</span>
i18next<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">'intlNumber'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">val</span><span class="token operator">:</span> <span class="token number">1000.1</span><span class="token punctuation">,</span> <span class="token literal-property property">minimumFractionDigits</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// --&gt; Some 1,000.100</span>
i18next<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">'intlNumber'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">val</span><span class="token operator">:</span> <span class="token number">1000.1</span><span class="token punctuation">,</span> <span class="token literal-property property">formatParams</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">val</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">minimumFractionDigits</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// --&gt; Some 1,000.100</span>
i18next<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">'intlNumberWithOptions'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">val</span><span class="token operator">:</span> <span class="token number">2000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// --&gt; Some 2,000.00</span>
i18next<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">'intlNumberWithOptions'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">val</span><span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">,</span> <span class="token literal-property property">minimumFractionDigits</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// --&gt; Some 2,000.000</span>
</code></pre></div><h3 id="_7-本地化-货币"><a href="#_7-本地化-货币" class="header-anchor">#</a> 7. 本地化-货币</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JSON</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">&quot;intlCurrencyWithOptionsSimplified&quot;</span><span class="token operator">:</span> <span class="token string">&quot;The value is {{val, currency(USD)}}&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;intlCurrencyWithOptions&quot;</span><span class="token operator">:</span> <span class="token string">&quot;The value is {{val, currency(currency: USD)}}&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;twoIntlCurrencyWithUniqueFormatOptions&quot;</span><span class="token operator">:</span> <span class="token string">&quot;The value is {{localValue, currency}} or {{altValue, currency}}&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

i18next<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">'intlCurrencyWithOptionsSimplified'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">val</span><span class="token operator">:</span> <span class="token number">2000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// --&gt; The value is $2,000.00</span>
i18next<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">'intlCurrencyWithOptions'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">val</span><span class="token operator">:</span> <span class="token number">2300</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// --&gt; The value is $2,300.00</span>
i18next<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">'twoIntlCurrencyWithUniqueFormatOptions'</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">localValue</span><span class="token operator">:</span> <span class="token number">12345.67</span><span class="token punctuation">,</span>
            <span class="token literal-property property">altValue</span><span class="token operator">:</span> <span class="token number">16543.21</span><span class="token punctuation">,</span>
            <span class="token literal-property property">formatParams</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">localValue</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">currency</span><span class="token operator">:</span> <span class="token string">'USD'</span><span class="token punctuation">,</span> <span class="token literal-property property">locale</span><span class="token operator">:</span> <span class="token string">'en-US'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token literal-property property">altValue</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">currency</span><span class="token operator">:</span> <span class="token string">'CAD'</span><span class="token punctuation">,</span> <span class="token literal-property property">locale</span><span class="token operator">:</span> <span class="token string">'fr-CA'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// --&gt; The value is $12,345.67 or 16 543,21 $ CA</span>
</code></pre></div><h3 id="_8-本地化-日期"><a href="#_8-本地化-日期" class="header-anchor">#</a> 8. 本地化-日期</h3> <p>根据locale本地化日期和时间</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JSON</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">&quot;intlDateTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;On the {{val, datetime}}&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

i18next<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">'intlDateTime'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">val</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token constant">UTC</span><span class="token punctuation">(</span><span class="token number">2012</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// --&gt; On the 12/20/2012</span>
i18next<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">'intlDateTime'</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">val</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token constant">UTC</span><span class="token punctuation">(</span><span class="token number">2012</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token literal-property property">formatParams</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">val</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">weekday</span><span class="token operator">:</span> <span class="token string">'long'</span><span class="token punctuation">,</span> <span class="token literal-property property">year</span><span class="token operator">:</span> <span class="token string">'numeric'</span><span class="token punctuation">,</span> <span class="token literal-property property">month</span><span class="token operator">:</span> <span class="token string">'long'</span><span class="token punctuation">,</span> <span class="token literal-property property">day</span><span class="token operator">:</span> <span class="token string">'numeric'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// --&gt; On the Thursday, December 20, 2012</span>
</code></pre></div><h3 id="_9-本地化-度量衡"><a href="#_9-本地化-度量衡" class="header-anchor">#</a> 9. 本地化-度量衡</h3> <p>根据locale本地化度量衡</p> <h3 id="_10-本地化-单复数"><a href="#_10-本地化-单复数" class="header-anchor">#</a> 10. 本地化-单复数</h3> <p>根据locale和数字获取单复数的展示</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;key_zero&quot;</span><span class="token operator">:</span> <span class="token string">&quot;zero&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;key_one&quot;</span><span class="token operator">:</span> <span class="token string">&quot;singular&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;key_two&quot;</span><span class="token operator">:</span> <span class="token string">&quot;two&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;key_few&quot;</span><span class="token operator">:</span> <span class="token string">&quot;few&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;key_many&quot;</span><span class="token operator">:</span> <span class="token string">&quot;many&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;key_other&quot;</span><span class="token operator">:</span> <span class="token string">&quot;other&quot;</span>
<span class="token punctuation">}</span>
i18next<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt; &quot;zero&quot;</span>
i18next<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt; &quot;singular&quot;</span>
i18next<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt; &quot;two&quot;</span>
i18next<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt; &quot;few&quot;</span>
i18next<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt; &quot;few&quot;</span>
i18next<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt; &quot;few&quot;</span>
i18next<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt; &quot;many&quot;</span>
i18next<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">99</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt; &quot;many&quot;</span>
i18next<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt; &quot;other&quot;</span>
</code></pre></div><h3 id="_11-本地化-符号"><a href="#_11-本地化-符号" class="header-anchor">#</a> 11. 本地化-符号</h3> <p>中国-郑州   因为不同地方的习惯原因  中间的“-” 也是需要翻译的     正确做法： <code>%1$s-%1$s</code>  具体的本地化格式 翻译团队来决定</p> <h2 id="六、架构设计"><a href="#六、架构设计" class="header-anchor">#</a> 六、架构设计</h2> <p>如果是小项目，小团队，考虑到时间人力成本，可以把翻译数据放在项目文件中，或者是存储为一个json文件或js文件注入到window中</p> <p>具体流程：</p> <ol><li>先把文案翻译变成每一个语言的json文件</li> <li>通过url的locale参数或者域名（cookie）获取对应的语言</li> <li>前端读取json文件，然后把翻译通过script脚本注入到window全局中</li> <li>服务端直接读取json文件来做翻译</li></ol> <p>如果是大项目，跨团队合作，需要大量的沟通成本，就需要做一个翻译中台，中台统一提供 翻译平台，接入sdk，本地化等，分离出语言相关的内容</p> <ol><li>翻译团队在翻译平台翻译好项目的文案，发布</li> <li>通过url的locale参数或者域名（cookie）获取对应的语言</li> <li>前端通过sdk进行获取翻译后的值</li> <li>服务端通过sdk进行获取翻译后的值</li></ol> <h2 id="七、路由-如何确定语言"><a href="#七、路由-如何确定语言" class="header-anchor">#</a> 七、路由(如何确定语言)</h2> <p>一般有两种形式的路由</p> <ol><li>域名路由</li> <li>子路由</li></ol> <p>域名路由</p> <ul><li>www.zhq123.com</li> <li>hk.zhq123.com</li> <li>jp.zhq123.com</li></ul> <p>子路由</p> <ul><li>zhq123.com/www/</li> <li>zhq123.com/hk/</li> <li>zhq123.com/jp/</li></ul> <p>根据域名或者子路由来确定语言<br>
但是一般也要携带参数locale=zh-HK<br>
locale（语言区域设置）的格式通常是 <strong>“语言代码 - 地区代码”</strong></p> <p>具体见附录</p> <table><thead><tr><th>路由</th> <th>语言</th></tr></thead> <tbody><tr><td>hk.zhq123.com</td> <td>zh-HK</td></tr> <tr><td>hk.zhq123.com?locale=zh-HK</td> <td>zh-HK</td></tr> <tr><td>hk.zhq123.com?locale=jp-JP</td> <td>重定向至hk.zhq123.com?locale=zh-HK</td></tr></tbody></table> <p>如果locale 和 域名匹配不上，就取域名的默认语言</p> <p>这部分逻辑应该在<strong>服务端中间件</strong>来做</p> <h2 id="八、代码实现步骤"><a href="#八、代码实现步骤" class="header-anchor">#</a> 八、代码实现步骤</h2> <p>i18next</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>   
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>   
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span>
    <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://cdnjs.cloudflare.com/ajax/libs/i18next/23.15.1/i18next.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>    
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>output<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">/** 
   * 获取当前语言     
   * html下发的时候就要把locale下发在cookie中   
   * 
   * 服务端下发html的时候写入locale的cookie  
   * */</span>
  <span class="token keyword">function</span> <span class="token function">getLocale</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cookie <span class="token operator">=</span> document<span class="token punctuation">.</span>cookie<span class="token punctuation">;</span>
    <span class="token keyword">const</span> cookieArr <span class="token operator">=</span> cookie<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">';'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> cookieArr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> item <span class="token operator">=</span> cookieArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> itemArr <span class="token operator">=</span> item<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'='</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>itemArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'locale'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> itemArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token string">'en-US'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  window<span class="token punctuation">.</span>dataJson <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;en-US&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">translation</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;welcome&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Hello World!&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;zh-HK&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">translation</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;welcome&quot;</span><span class="token operator">:</span> <span class="token string">&quot;你好，世界！&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  i18next<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">lng</span><span class="token operator">:</span> <span class="token string">'en'</span><span class="token punctuation">,</span> <span class="token comment">// if you're using a language detector, do not define the lng option        </span>
    <span class="token literal-property property">debug</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">resources</span><span class="token operator">:</span> window<span class="token punctuation">.</span>dataJson
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> locale <span class="token operator">=</span> <span class="token function">getLocale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  i18next<span class="token punctuation">.</span><span class="token function">changeLanguage</span><span class="token punctuation">(</span>locale<span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'output'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> i18next<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">'welcome'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h2 id="附录"><a href="#附录" class="header-anchor">#</a> 附录</h2> <p>下面是部分语言</p> <div class="language-txt extra-class"><pre class="language-txt"><code>zh-CN：中文简体，中国大陆地区。
zh-TW：中文繁体，中国台湾地区。
zh-HK：中文繁体，中国香港特别行政区。
zh-MO：中文繁体，中国澳门特别行政区。
zh-SG：中文简体，新加坡（新加坡也使用简体中文，但在一些词汇和习惯表达上可能与中国大陆略有不同）。

en-US：英语，美国。
en-GB：英语，英国。
fr-FR：法语，法国。
de-DE：德语，德国。
es-ES：西班牙语，西班牙。
it-IT：意大利语，意大利。
pt-PT：葡萄牙语，葡萄牙。
pt-BR：葡萄牙语，巴西。
ru-RU：俄语，俄罗斯。

ja-JP：日语，日本。
ko-KR：韩语，韩国。
hi-IN：印地语，印度。
ar-SA：阿拉伯语，沙特阿拉伯。
</code></pre></div></div> <footer><!----> <hr> <!----></footer></article> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#一、为什么前端国际化至关重要" title="一、为什么前端国际化至关重要？">一、为什么前端国际化至关重要？</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#二、背景知识" title="二、背景知识">二、背景知识</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#一、国际化-internationalization-通常缩写为-i18n" title="一、国际化（Internationalization，通常缩写为 i18n）">一、国际化（Internationalization，通常缩写为 i18n）</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#二、本地化-localization-通常缩写为-l10n" title="二、本地化（Localization，通常缩写为 L10n）">二、本地化（Localization，通常缩写为 L10n）</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#三、前端国际化的常见问题" title="三、前端国际化的常见问题">三、前端国际化的常见问题</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#四、工具和库" title="四、工具和库">四、工具和库</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#五、最佳实践" title="五、最佳实践">五、最佳实践</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_1-数量和名词应该合并在一个key中" title="1. 数量和名词应该合并在一个key中">1. 数量和名词应该合并在一个key中</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_2-表述应当完整-不要随意截断" title="2. 表述应当完整，不要随意截断">2. 表述应当完整，不要随意截断</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_3-多个占位符需要有所去烦恼" title="3. 多个占位符需要有所去烦恼">3. 多个占位符需要有所去烦恼</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_4-创建合理的日期月份星期的key" title="4. 创建合理的日期月份星期的key">4. 创建合理的日期月份星期的key</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_5-本地化-姓名" title="5. 本地化-姓名">5. 本地化-姓名</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_6-本地化-数字" title="6. 本地化-数字">6. 本地化-数字</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_7-本地化-货币" title="7. 本地化-货币">7. 本地化-货币</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_8-本地化-日期" title="8. 本地化-日期">8. 本地化-日期</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_9-本地化-度量衡" title="9. 本地化-度量衡">9. 本地化-度量衡</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_10-本地化-单复数" title="10. 本地化-单复数">10. 本地化-单复数</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_11-本地化-符号" title="11. 本地化-符号">11. 本地化-符号</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#六、架构设计" title="六、架构设计">六、架构设计</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#七、路由-如何确定语言" title="七、路由(如何确定语言)">七、路由(如何确定语言)</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#八、代码实现步骤" title="八、代码实现步骤">八、代码实现步骤</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#附录" title="附录">附录</a></div></div></div></div> <footer class="footer" data-v-3d9deeb8><div class="footer-left-wrap" data-v-3d9deeb8><ul class="contact" data-v-3d9deeb8><li class="contact-item" data-v-3d9deeb8><a href="https://github.com/fullyouth" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-3d9deeb8><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-3d9deeb8><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-3d9deeb8></path></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-3d9deeb8><ul class="copyright" data-v-3d9deeb8><li class="copyright-item" data-v-3d9deeb8></li></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a891da9c.js" defer></script><script src="/assets/js/4.ca613f77.js" defer></script><script src="/assets/js/1.88c9cb29.js" defer></script><script src="/assets/js/37.8b7b7755.js" defer></script>
  </body>
</html>
